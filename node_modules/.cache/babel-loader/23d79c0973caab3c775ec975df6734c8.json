{"ast":null,"code":"export const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport function receiveLogin() {\n  return {\n    type: LOGIN_SUCCESS\n  };\n}\nexport async function loginUser(credentials) {\n  const qs = require('qs');\n\n  return fetch('http://localhost:8000/login', {\n    method: 'POST',\n    headers: {\n      'accept': 'application/json',\n      'Content-Type': 'application/x-www-form-urlencoded'\n    },\n    body: qs.stringify(credentials)\n  }).then(response => {\n    if (!response.ok) throw new Error(response.status);\n  }).then(async response => {\n    const data = await response.json();\n    localStorage.setItem('authenticated', true);\n    localStorage.setItem('token', data.access_token);\n  }).catch(error => {\n    console.log('error: ' + error);\n    this.setState({\n      requestFailed: true\n    });\n  });\n}","map":{"version":3,"sources":["D:/shopping-cart-react/src/components/actions/login.js"],"names":["LOGIN_SUCCESS","receiveLogin","type","loginUser","credentials","qs","require","fetch","method","headers","body","stringify","then","response","ok","Error","status","data","json","localStorage","setItem","access_token","catch","error","console","log","setState","requestFailed"],"mappings":"AAAA,OAAO,MAAMA,aAAa,GAAG,eAAtB;AAEP,OAAO,SAASC,YAAT,GAAwB;AAC3B,SAAO;AACHC,IAAAA,IAAI,EAAEF;AADH,GAAP;AAGH;AAED,OAAO,eAAeG,SAAf,CAAyBC,WAAzB,EAAsC;AACzC,QAAMC,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,SAAOC,KAAK,CAAC,6BAAD,EAAgC;AACxCC,IAAAA,MAAM,EAAE,MADgC;AAExCC,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB;AAFX,KAF+B;AAMxCC,IAAAA,IAAI,EAAEL,EAAE,CAACM,SAAH,CAAaP,WAAb;AANkC,GAAhC,CAAL,CAQNQ,IARM,CAQDC,QAAQ,IAAI;AACd,QAAG,CAACA,QAAQ,CAACC,EAAb,EAAiB,MAAM,IAAIC,KAAJ,CAAUF,QAAQ,CAACG,MAAnB,CAAN;AACpB,GAVM,EAWNJ,IAXM,CAWD,MAAMC,QAAN,IAAkB;AACpB,UAAMI,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsC,IAAtC;AACAD,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,IAAI,CAACI,YAAnC;AACH,GAfM,EAgBNC,KAhBM,CAgBCC,KAAD,IAAW;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAYF,KAAxB;AACA,SAAKG,QAAL,CAAc;AAAEC,MAAAA,aAAa,EAAE;AAAjB,KAAd;AACH,GAnBM,CAAP;AAoBH","sourcesContent":["export const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\n\r\nexport function receiveLogin() {\r\n    return {\r\n        type: LOGIN_SUCCESS\r\n    };\r\n}\r\n\r\nexport async function loginUser(credentials) {\r\n    const qs = require('qs');\r\n    return fetch('http://localhost:8000/login', {\r\n        method: 'POST',\r\n        headers: {\r\n            'accept': 'application/json',\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        body: qs.stringify(credentials)\r\n    })\r\n    .then(response => {\r\n        if(!response.ok) throw new Error(response.status);\r\n    })\r\n    .then(async response => {\r\n        const data = await response.json();\r\n        localStorage.setItem('authenticated', true)\r\n        localStorage.setItem('token', data.access_token)\r\n    })\r\n    .catch((error) => {\r\n        console.log('error: ' + error);\r\n        this.setState({ requestFailed: true });\r\n    });\r\n}"]},"metadata":{},"sourceType":"module"}