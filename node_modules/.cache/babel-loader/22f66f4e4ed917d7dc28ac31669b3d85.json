{"ast":null,"code":"export const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport function receiveLogin() {\n  return {\n    type: LOGIN_SUCCESS\n  };\n}\nexport function loginUser(credentials) {\n  return dispatch => {\n    dispatch(receiveLogin());\n\n    const qs = require('qs');\n\n    return fetch('http://localhost:8000/login', {\n      method: 'POST',\n      headers: {\n        'accept': 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: qs.stringify(credentials)\n    }).then(async response => {\n      const data = await response.json();\n      localStorage.setItem('authenticated', true);\n      localStorage.setItem('token', data.access_token);\n    });\n  };\n}","map":{"version":3,"sources":["D:/shopping-cart-react/src/components/actions/login.js"],"names":["LOGIN_SUCCESS","receiveLogin","type","loginUser","credentials","dispatch","qs","require","fetch","method","headers","body","stringify","then","response","data","json","localStorage","setItem","access_token"],"mappings":"AAAA,OAAO,MAAMA,aAAa,GAAG,eAAtB;AAEP,OAAO,SAASC,YAAT,GAAwB;AAC3B,SAAO;AACHC,IAAAA,IAAI,EAAEF;AADH,GAAP;AAGH;AAED,OAAO,SAASG,SAAT,CAAmBC,WAAnB,EAAgC;AACnC,SAAQC,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACJ,YAAY,EAAb,CAAR;;AACA,UAAMK,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,WAAOC,KAAK,CAAC,6BAAD,EAAgC;AACxCC,MAAAA,MAAM,EAAE,MADgC;AAExCC,MAAAA,OAAO,EAAE;AACL,kBAAU,kBADL;AAEL,wBAAgB;AAFX,OAF+B;AAMxCC,MAAAA,IAAI,EAAEL,EAAE,CAACM,SAAH,CAAaR,WAAb;AANkC,KAAhC,CAAL,CAQNS,IARM,CAQD,MAAMC,QAAN,IAAkB;AACpB,YAAMC,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAAnB;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsC,IAAtC;AACAD,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,IAAI,CAACI,YAAnC;AACH,KAZM,CAAP;AAaH,GAhBD;AAiBH","sourcesContent":["export const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\n\r\nexport function receiveLogin() {\r\n    return {\r\n        type: LOGIN_SUCCESS\r\n    };\r\n}\r\n\r\nexport function loginUser(credentials) {\r\n    return (dispatch) => {\r\n        dispatch(receiveLogin());\r\n        const qs = require('qs');\r\n        return fetch('http://localhost:8000/login', {\r\n            method: 'POST',\r\n            headers: {\r\n                'accept': 'application/json',\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            body: qs.stringify(credentials)\r\n        })\r\n        .then(async response => {\r\n            const data = await response.json();\r\n            localStorage.setItem('authenticated', true)\r\n            localStorage.setItem('token', data.access_token)\r\n        })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}